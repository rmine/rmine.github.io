<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[RMine]]></title>
  <link href="http://rmine.github.io/atom.xml" rel="self"/>
  <link href="http://rmine.github.io/"/>
  <updated>2014-07-04T21:56:36+08:00</updated>
  <id>http://rmine.github.io/</id>
  <author>
    <name><![CDATA[RMine]]></name>
    <email><![CDATA[huangzr.kai7@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress &amp; Guthub Pages]]></title>
    <link href="http://rmine.github.io/blog/2014/07/04/octopress-and-guthub-pages/"/>
    <updated>2014-07-04T21:47:17+08:00</updated>
    <id>http://rmine.github.io/blog/2014/07/04/octopress-and-guthub-pages</id>
    <content type="html"><![CDATA[<h2>简介</h2>

<p>Octopress是利用Jekyll博客引擎开发的一个博客系统，号称是hacker专属的一个博客系统，就像官网自己描述的一样 &mdash;-A blogging framework for hackers.</p>

<p>Octopress是个静态博客，就是一些静态的html css js等展示，所以不像一些有后台等支撑的博客，复杂而臃肿，而且静态网站的访问速度也是众所周知的.</p>

<p>Octopress可以支持3种部署方式:</p>

<ul>
<li>github</li>
<li>heroku</li>
<li>Rsync</li>
</ul>


<p>github对于程序员来说,再熟悉不过了,基于git的全球最大的社交编程及代码托管网站,支持全方位的服务,此博客就是基于github page功能的展现,当然,之所以选它,除了方便强大的功能支持外,良好的网络访问是关键；heroku是一个非常强大的云平台,支持多种语言的部署,之所以国人不太熟悉,使用的人不多,就是因为网络访问过慢,国内没有相应的服务器,我不用它也是因为这个,但是功能还是很强大的,收费偏高,有兴趣的可以去玩玩看；Rsync模式就是自给自足模式了,一台服务器,把写好的文件上传到服务器,有个配置好的web server(nginx,apache等),自己配置转发,没有资源的同学就不要考虑这种了.</p>

<p>本文以自身为例，介绍如何一步步搭建一套基于Octopress的github的博客系统,读者需要熟悉一些shell命令,基本的git操作,ruby的一些相关知识,和markdown语法.<strong>如果觉得这些知识让你听起来一团乱麻,那么兄弟,你还是不要跳进这个坑为妙</strong>.</p>

<h2>部署</h2>

<p>先插一句,&ldquo;所有方案都比不上官方文档&rdquo;,如果有耐心并且英语还可以的同学,不妨好好参考<a href="http://octopress.org/docs">官网文档</a>.</p>

<h4>1 终端环境和git</h4>

<p>mac和linux下都有终端,在终端下运行和安装软件都非常便捷,windows比较麻烦,不过有个git bash的工具可以模拟Unix*环境,也支持了git环境,mac已经自带了git,而linux(这里统一按ubuntu为例)安装也非常方便.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install git</span></code></pre></td></tr></table></div></figure>


<p><a href="http://git-scm.com/">git参考</a></p>

<h4>2 安装ruby</h4>

<p>(熟悉ruby和rails的读者,估计对环境的搭建轻车熟路了,可以直接忽略过去；非熟悉的人,这里只考虑了ruby的安装,gemset等不必深究)</p>

<ul>
<li>2.1 rvm安装</li>
</ul>


<p>Octopress需要Ruby环境，<a href="https://rvm.io/">RVM(Ruby Version Manager)</a>,负责安装和管理Ruby的环境。所以我们先在终端输入如下命令，来安装RVM：(请在用户权限下操作,慎用sudo或者root权限)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ curl -L get.rvm.io | bash -s stable
</span><span class='line'>$ source ~/.bashrc
</span><span class='line'>$ source ~/.bash_profile</span></code></pre></td></tr></table></div></figure>


<p>修改RVM的Ruby安装源到国内的<a href="http://ruby.taobao.org/">淘宝镜像服务器</a>，这样能提高安装速度.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sed -i -e 's/ftp\.ruby-lang\.org\/pub\/ruby/ruby\.taobao\.org\/mirrors\/ruby/g' ~/.rvm/config/db</span></code></pre></td></tr></table></div></figure>


<ul>
<li>2.2 ruby的安装</li>
</ul>


<p>安装2.1.1版本,并且将此版本设置成系统的默认版本.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rvm install 2.1.1
</span><span class='line'>rvm use 2.1.1 --default </span></code></pre></td></tr></table></div></figure>


<p>安装成功后,请输入<code>ruby -v</code>查看版本信息.</p>

<h4>3 安装Octopress</h4>

<ul>
<li>3.1 下载源代码</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'>cd octopress</span></code></pre></td></tr></table></div></figure>


<ul>
<li>3.2 安装依赖包</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">gem</span> <span class="n">install</span> <span class="n">bundler</span>
</span><span class='line'><span class="n">bundle</span> <span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>3.3 安装Octopress默认主题</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<h4>4 配置github page(User/Organization pages)</h4>

<p>来到<a href="https://pages.github.com/">github pages</a>,根据提示创建,没有github帐号的自己建个.</p>

<ul>
<li>4.1 创建一个代码仓库</li>
</ul>


<p><a href="https://github.com/new">创建仓库</a>时,这个代码仓库名称中的username一定要保证你的github帐号的username一致.
然后一路默认下来,在这个仓库的<code>settings</code>中有<code>Automatic page generate</code>,让你选个主题,这里你可以一路点确定,因为后面会有Octopress的主题,所以会覆盖这里的主题.</p>

<ul>
<li>4.2 Octopress关联到github page</li>
</ul>


<p>这里比较关键,就是将2个系统结合起来,Octopress已经为我们做好了.回到octopress目录,输入以下命令:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">setup_github_pages</span>
</span></code></pre></td></tr></table></div></figure>


<p>输入后会有个输入,填上你刚创建的github上的代码仓库路径(e.g. git@github.com:username/username.github.io.git或者<a href="https://github.com/username/username.github.io.git">https://github.com/username/username.github.io.git</a>).
这时候会把你的git路径从octopress转到github page,分支切换到了source,_deploy被放到了master分支,这里就是github部署的分支.</p>

<p>接着输入</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">generate</span>
</span><span class='line'><span class="n">rake</span> <span class="n">deploy</span>
</span></code></pre></td></tr></table></div></figure>


<p>就会把最新的代码提交到github上,能直接展示了,[username].github.io,欣赏你自己的网站吧(当然还没完,最初的样式确实不满意).</p>

<p><em>注意:如果这里<code>rake deploy</code>发生错误,应该是分支代码没有同步的关系,请进入<code>_deploy/</code>目录下,将它里面的东西提交到github上去,如下:</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
</span><span class='line'><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;init deploy&#39;</span>
</span><span class='line'><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>接着把你工程里的资源文件也备份到github上去吧</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
</span><span class='line'><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;your message&#39;</span>
</span><span class='line'><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">source</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>4.3 自定义域名</li>
</ul>


<p>在source目录下创建CNAME文件.然后把你的域名放进去:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">echo</span> <span class="s1">&#39;your-domain.com&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">source</span><span class="o">/</span><span class="no">CNAME</span>
</span><span class='line'><span class="c1"># OR</span>
</span><span class='line'><span class="n">echo</span> <span class="s1">&#39;www.your-domain.com&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">source</span><span class="o">/</span><span class="no">CNAME</span>
</span></code></pre></td></tr></table></div></figure>


<p>然后在你自己的域名提供商后台设置到你的git域名吧.</p>

<h4>5 配置Octopress</h4>

<p>Octopress的配置还是相对简化的,一般只要配置<code>_config.yml</code>就可以了,下面是配置文件列表:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">_config</span><span class="o">.</span><span class="n">yml</span>       <span class="c1"># Main config (Jekyll&#39;s settings)</span>
</span><span class='line'><span class="no">Rakefile</span>          <span class="c1"># Configs for deployment</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">rb</span>         <span class="c1"># Compass config</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">ru</span>         <span class="c1"># Rack config</span>
</span></code></pre></td></tr></table></div></figure>


<h4>6 写博客</h4>

<p>前面搞了那么多,无非就是能写博客,这里就介绍一下怎么写博客,首先你得会<a href="http://wowubuntu.com/markdown/">markdown语法</a>.</p>

<p>新建一个博客命令:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">new_post</span><span class="o">[</span><span class="s2">&quot;first article&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>运行后,会在<code>source/_posts</code>下生成一个文件,文件名的格式为<code>YYYY-MM-DD-first-article.markdown</code>,打开这个文件会看见如下:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">---</span>
</span><span class='line'><span class="ss">layout</span><span class="p">:</span> <span class="n">post</span>
</span><span class='line'><span class="ss">title</span><span class="p">:</span> <span class="s2">&quot;first article&quot;</span>
</span><span class='line'><span class="ss">date</span><span class="p">:</span> <span class="mi">2014</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span> <span class="mi">09</span><span class="p">:</span><span class="mo">07</span><span class="p">:</span><span class="mi">28</span> <span class="o">+</span><span class="mi">0800</span>
</span><span class='line'><span class="ss">comments</span><span class="p">:</span> <span class="kp">true</span>
</span><span class='line'><span class="ss">categories</span><span class="p">:</span> <span class="o">[</span><span class="n">blog</span><span class="p">,</span><span class="n">markdown</span><span class="o">]</span>
</span><span class='line'><span class="o">---</span>
</span><span class='line'>
</span><span class='line'><span class="err">这里就开始写你的文章啦</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果你的编辑器没有支持markdown的预览功能,Octopress也支持直接的页面预览,以下命令:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">generate</span>   <span class="c1"># Generates posts and pages into the public directory</span>
</span><span class='line'><span class="n">rake</span> <span class="n">watch</span>      <span class="c1"># Watches source/ and sass/ for changes and regenerates</span>
</span><span class='line'><span class="n">rake</span> <span class="n">preview</span>    <span class="c1"># Watches, and mounts a webserver at http://localhost:4000</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>rake generate</code>可以直接生成静态文件(注意_config.yml文件备份),<code>rake watch</code>可以让你知道哪些变了,<code>rake preview</code>就是启动了一个本地的web服务,运行在后台,这时候你就可以打开浏览器,输入<code>http://localhost:4000/</code>直接预览你的博客了.</p>

<p>如果觉得满意就提交吧,还记得那个命令吧,<code>rake deploy</code>, 记得别忘了把最新的代码push上去哦.</p>

<h4>7 主题和样式</h4>

<p>虽然致力于成为一个full stack developer,但是不得不承认,css是我的短板,但是有Octopress主题安装,我也就淡然了(Y(^_^)Y).</p>

<p>主题安装很简单,以我为例,我找了一个<a href="http://shashankmehta.in/archive/2012/greyshade.html">Greyshade主题</a>,然后安装</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">git</span> <span class="nb">clone</span> <span class="n">git</span><span class="vi">@github</span><span class="o">.</span><span class="n">com</span><span class="ss">:shashankmehta</span><span class="o">/</span><span class="n">greyshade</span><span class="o">.</span><span class="n">git</span> <span class="o">.</span><span class="n">themes</span><span class="o">/</span><span class="n">greyshade</span>
</span><span class='line'><span class="err">$</span> <span class="n">echo</span> <span class="s2">&quot;\$greyshade: color;&quot;</span> <span class="o">&gt;&gt;</span> <span class="n">sass</span><span class="o">/</span><span class="n">custom</span><span class="o">/</span><span class="n">_colors</span><span class="o">.</span><span class="n">scss</span> <span class="sr">//</span><span class="no">Substitue</span> <span class="s1">&#39;color&#39;</span> <span class="n">with</span> <span class="n">your</span> <span class="n">highlight</span> <span class="n">color</span>
</span><span class='line'><span class="err">$</span> <span class="n">rake</span> <span class="s2">&quot;install[greyshade]&quot;</span>
</span><span class='line'><span class="err">$</span> <span class="n">rake</span> <span class="n">generate</span>
</span></code></pre></td></tr></table></div></figure>


<p>然后&hellip;然后就OK啦,很无脑,很安逸.</p>

<p>至于那些css大牛,你们完全可以定制自己的样式,请参考官方的样式<a href="http://octopress.org/docs/theme/styles/">定制文档</a>.</p>

<h2>完结</h2>

<p>差不多就全部介绍完了,可能有不少问题我没有面面具到,比如git可能出现各种各样的问题,比如这个主题其实有些bug的,比如&hellip;但是一步步解决这些问题不就是我们折腾它的理由吗?发现问题,思考问题,解决问题,这才能体会到种种成就.</p>

<p>Enjoy Yourself~</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[国际惯例 Hello World!]]></title>
    <link href="http://rmine.github.io/blog/2014/07/02/guo-ji-guan-li/"/>
    <updated>2014-07-02T21:36:18+08:00</updated>
    <id>http://rmine.github.io/blog/2014/07/02/guo-ji-guan-li</id>
    <content type="html"><![CDATA[<p>先国际惯例,用ruby给大家打声招呼了</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">puts</span> <span class="s1">&#39;Hello World&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>以后工作之余,这里就是抒发心情的小基地啦</p>
]]></content>
  </entry>
  
</feed>
